<?xml version="1.0" encoding="ISO-8859-1" ?>
<scenario name="Basic Sipstone UAC">
  <!-- In client mode (sipp placing calls), the Call-ID MUST be -->
  <!-- generated by sipp. To do so, use [call_id] keyword. -->
  <!-- Content-Type: application/sdp -->

  <send retrans="500">
    <![CDATA[
        INVITE sip:[service]@[remote_ip]:[remote_port] SIP/2.0
        Max-Forwards: 19
        Via: SIP/2.0/[transport] [local_ip]:[local_port]
        From: sipp <sip:sipp@[local_ip]:[local_port]>;tag=[call_number]
        To: sut <sip:[service]@[remote_ip]:[remote_port]>
        Call-ID: [call_id]
        Cseq: 1 INVITE
        User-Agent: YATE/5.5.0 
        Contact: sip:sipp@[local_ip]:[local_port]
        Allow: ACK, INVITE, BYE, CANCEL, REGISTER, REFER, OPTIONS, INFO
        Content-Type: application/sdp
        Content-Length: [len]

        v=0 
        o=yate 1540965060 1540965060 IN IP4 80.252.95.148 
        s=SIP Call 
        c=IN IP4 80.252.95.148 
        t=0 0 
        m=audio 20818 RTP/AVP 8 0 101 
        a=rtpmap:8 PCMA/8000 
        a=rtpmap:0 PCMU/8000 
        a=rtpmap:101 telephone-event/8000 
    ]]>
  </send>  

  <recv response="100" optional="true">
  </recv>

  <!-- <recv response="180" optional="true"> -->
  <recv response="180" rtd="true">
  </recv>

  <!-- By adding rrs="true" (Record Route Sets), the Sets -->
  <!-- are saved and used for following messages sent. Useful to test -->
  <!-- against stateful SIP proxies/B2BUAs -->
  <!-- <recv response="200" rtd="true"> -->
  <!-- </recv> -->

  <!-- Packet lost can be simulated in any send/recv message by -->
  <!-- by adding the 'lost="10"'. Value can be [1-100] percent. -->
  <send>
    <![CDATA[
        CANCEL sip:[service]@[remote_ip]:[remote_port] SIP/2.0
        Via: SIP/2.0/[transport] [local_ip]:[local_port]
        From: sipp <sip:sipp@[local_ip]:[local_port]>;tag=[call_number]
        To: sut <sip:[service]@[remote_ip]:[remote_port]>
        Call-ID: [call_id]
        Cseq: [cseq] CANCEL
        User-Agent: YATE/5.5.0
        Contact: sip:sipp@[local_ip]:[local_port]
        Max-Forwards: 70
        Allow: ACK, INVITE, BYE, CANCEL, REGISTER, REFER, OPTIONS, INFO
        Content-Length: [len]
    ]]>
  </send>

  <send>
    <![CDATA[
        BYE sip:[service]@[remote_ip]:[remote_port] SIP/2.0
        Route: [routes]
        Call-ID: [call_id]
        From: sipp <sip:sipp@[local_ip]:[local_port]>;tag=[call_number]
        To: sut <sip:[service]@[remote_ip]:[remote_port]>
        Reason: SIP;text="hangup"
        Via: SIP/2.0/[transport] [local_ip]:[local_port]
        Cseq: [cseq] BYE
        User-Agent: YATE/5.5.0
        Max-Forwards: 70 
        Allow: ACK, INVITE, BYE, CANCEL, REGISTER, REFER, OPTIONS, INFO 
        Content-Length: [len]
    ]]>
  </send>

  <recv response="200" crlf="true">
  </recv>

  <recv response="404" crlf="true">
  </recv>

  <recv response="487" crlf="true">
  </recv>




  <!-- definition of the response time repartition table (unit is ms) -->
  <ResponseTimeRepartition value="10, 20, 30, 40, 50 100, 150, 200"/>

  <!-- definition of the call length repartition table (unit is ms) -->
  <CallLengthRepartition value="10, 50, 100, 500, 1000, 5000, 10000"/>


</senario>
